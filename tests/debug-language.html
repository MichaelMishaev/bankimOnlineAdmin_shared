<!DOCTYPE html>
<html>
<head>
    <title>Language Debug Test</title>
</head>
<body>
    <h1>Language System Debug</h1>
    <p>Open browser console to see results</p>
    
    <iframe id="app-frame" src="http://localhost:3003/director" width="100%" height="600"></iframe>
    
    <script>
        // Wait for iframe to load
        document.getElementById('app-frame').onload = function() {
            console.log('=== Language Debug Test Started ===');
            
            // Try to access the iframe's window
            try {
                const iframe = document.getElementById('app-frame');
                const iframeWindow = iframe.contentWindow;
                
                // Check if React and language context are available
                console.log('Checking iframe window:', iframeWindow);
                
                // Log any errors from the iframe
                iframeWindow.addEventListener('error', (e) => {
                    console.error('Error in iframe:', e);
                });
                
                // Check localStorage
                console.log('localStorage preferredLanguage:', iframeWindow.localStorage.getItem('preferredLanguage'));
                
            } catch (e) {
                console.error('Error accessing iframe:', e);
            }
        };
    </script>
</body>
</html>